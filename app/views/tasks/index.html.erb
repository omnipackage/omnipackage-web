<% if @project %>
  <%= turbo_stream_from [@project, :tasks] %>
  <h5>Tasks for <%= link_to @project.name, project_path(@project) %> </h5>
<% else %>
  <%= turbo_stream_from [current_user, :tasks] %>
  <h5>Tasks</h5>
<% end %>


<div class="container pt-3">
  <ul class="list-group list-group-flush" id="tasks">
    <% @tasks.each do |task| %>
      <%= render partial: 'tasks/task', locals: { task: task, highlight: params[:highlight].to_i == task.id } %>
    <% end %>
  </ul>

  <div class="pt-3">
    <%= render partial: 'layouts/pagination', locals: { pagination: @pagination } %>
  </div>
  
</div>
