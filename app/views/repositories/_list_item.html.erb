<%# locals: (repo:) -%>

<div class="card">
  <div class="card-body">

    <h5 class="card-title">
      <%= render partial: 'layouts/distro_icon', locals: { family: repo.distro.family, size: 24 } %>
      <%= link_to repo.distro.name, repository_path(repo.id), class: 'card-link' %>
    </h5>

    <div class="card-text">
      <% if repo.last_publish_error %>
        <span class="text-danger">Last publish unsuccessful</span>
      <% elsif repo.published_at %>
        <span class="text-body-secondary">Published <span><%= time_ago_in_words(repo.published_at) %> ago</span></span>
      <% else %>
        <span class="text-body-secondary">Empty respository</span>
      <% end %>
    </div>
  </div>
</div>
